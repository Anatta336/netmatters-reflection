@use "theme";
@use "utility";

body {
    z-index: 0;
}

$menu-width-mobile: utility.px-to-rem(275px);
$menu-width-medium: utility.px-to-rem(350px);

.page-scrim-holder {
    position: relative;
    z-index: 1;
    right: 0;
    transition: right 500ms;

    &::after {
        // initially not shown
        content: none;

        // positioned over all the content
        position: absolute;
        z-index: 10;
        top: 0;
        left: 0;
        
        background: rgba(#000, 0.4);
        
        // initially 0 size and transparent
        opacity: 0.0;
        width: 0;
        height: 0;
    
        // transition to this state will fade opacity and once that's done instantly change width & height
        transition: opacity 500ms,
            width 0ms 500ms, height 0ms 500ms;
    }
    
    &.menu-open {
        content: "";

        right: $menu-width-mobile;
        @include theme.above-breakpoint("medium") {
            right: $menu-width-medium;
        }
        cursor: pointer;
        transition: right 500ms;
    
        &::after {
            width: 100%;
            height: 100%;
    
            opacity: 1.0;
    
            // transition to this state instantly changes width & height, and fades opacity
            transition: opacity 500ms;
        }
    }
}

.page-content {
    height: 100vh;
    overflow: auto;
    background: theme.$page-background;
}

.menu-content {
    // hidden by default
    display: none;
    
    &.menu-open {
        display: block;
    }
    
    z-index: 0;
    height: 100vh;
    overflow: auto;

    position: absolute;
    right: 0;
    top: 0;
    width: $menu-width-mobile;
    @include theme.above-breakpoint("medium") {
        width: $menu-width-medium;
    }

}
